<style>
  html,
  body {
    width: 1920px;
    height: 1080px;
    margin: 0;
    padding: 0;
  }
</style>

<body>

  <div>
    <div id="bm"></div>
  </div>

</body>

<script src="../scripts/lottie.min.js" type="text/javascript"></script>
<script src="../scripts/utils.js" type="text/javascript"></script>
<script src="../scripts/webfontloader.js" type="text/javascript"></script>
<script src="../scripts/moment.min.js" type="text/javascript"></script>
<script src="../scripts/countdown.min.js" type="text/javascript"></script>

<script src="data.js" type="text/javascript"></script>

<script>
  WebFont.load({
    custom: {
      urls: ["../fonts/stylesheet.css"]
    }
  });
</script>

<script type="text/javascript">
  var container = document.getElementById("bm");

  var animation = bodymovin.loadAnimation({
    container: container,
    renderer: "svg",
    loop: false,
    autoplay: false,
    animationData: test,
    font: "",
    rendererSettings: {}
  });

  if (debug) {
    findElementLocations(animation);
    animation.play();
  }

  function play() {
    animation.stop();
    animation.play();
  }

  function stop() {
    animation.stop();
    animation.play();
  }

  function update(xml) {
    var parser = new DOMParser();
    var document = parser.parseFromString(xml, "text/xml");

    title = document.evaluate(
      "/templateData/componentData[@id='title']/data/@value",
      document,
      null,
      XPathResult.STRING_TYPE,
      null
    ).stringValue;

    for (i = 1; i < 4; i++) {

      line1 = document.evaluate(
        "/templateData/componentData[@id='" + i + "line1']/data/@value",
        document,
        null,
        XPathResult.STRING_TYPE,
        null
      ).stringValue;

      line2 = document.evaluate(
        "/templateData/componentData[@id='" + i + "line2']/data/@value",
        document,
        null,
        XPathResult.STRING_TYPE,
        null
      ).stringValue;

      line3 = document.evaluate(
        "/templateData/componentData[@id='" + i + "line3']/data/@value",
        document,
        null,
        XPathResult.STRING_TYPE,
        null
      ).stringValue;

      line4 = document.evaluate(
        "/templateData/componentData[@id='" + i + "line4']/data/@value",
        document,
        null,
        XPathResult.STRING_TYPE,
        null
      ).stringValue;

      line5 = document.evaluate(
        "/templateData/componentData[@id='" + i + "line5']/data/@value",
        document,
        null,
        XPathResult.STRING_TYPE,
        null
      ).stringValue;

      line6 = document.evaluate(
        "/templateData/componentData[@id='" + i + "line6']/data/@value",
        document,
        null,
        XPathResult.STRING_TYPE,
        null
      ).stringValue;

      line7 = document.evaluate(
        "/templateData/componentData[@id='" + i + "line7']/data/@value",
        document,
        null,
        XPathResult.STRING_TYPE,
        null
      ).stringValue;

      line8 = document.evaluate(
        "/templateData/componentData[@id='" + i + "line8']/data/@value",
        document,
        null,
        XPathResult.STRING_TYPE,
        null
      ).stringValue;

      line9 = document.evaluate(
        "/templateData/componentData[@id='" + i + "line9']/data/@value",
        document,
        null,
        XPathResult.STRING_TYPE,
        null
      ).stringValue;

      line10 = document.evaluate(
        "/templateData/componentData[@id='" + i + "line10']/data/@value",
        document,
        null,
        XPathResult.STRING_TYPE,
        null
      ).stringValue;

      animation.renderer.elements[0].elements[3].elements[0].canResizeFont(true);
      animation.renderer.elements[0].elements[3].elements[0].updateDocumentData({
          t: title
        },
        0
      );

      animation.renderer.elements[0].elements[13].elements[0].elements[1].elements[3 - i].canResizeFont(true);
      animation.renderer.elements[0].elements[13].elements[0].elements[1].elements[3 - i].updateDocumentData({
          t: line1
        },
        0
      );

      animation.renderer.elements[0].elements[12].elements[0].elements[1].elements[3 - i].canResizeFont(true);
      animation.renderer.elements[0].elements[12].elements[0].elements[1].elements[3 - i].updateDocumentData({
          t: line2
        },
        0
      );

      animation.renderer.elements[0].elements[11].elements[0].elements[1].elements[3 - i].canResizeFont(true);
      animation.renderer.elements[0].elements[11].elements[0].elements[1].elements[3 - i].updateDocumentData({
          t: line3
        },
        0
      );

      animation.renderer.elements[0].elements[10].elements[0].elements[1].elements[3 - i].canResizeFont(true);
      animation.renderer.elements[0].elements[10].elements[0].elements[1].elements[3 - i].updateDocumentData({
          t: line4
        },
        0
      );

      animation.renderer.elements[0].elements[9].elements[0].elements[1].elements[3 - i].canResizeFont(true);
      animation.renderer.elements[0].elements[9].elements[0].elements[1].elements[3 - i].updateDocumentData({
          t: line5
        },
        0
      );

      animation.renderer.elements[0].elements[8].elements[0].elements[1].elements[3 - i].canResizeFont(true);
      animation.renderer.elements[0].elements[8].elements[0].elements[1].elements[3 - i].updateDocumentData({
          t: line6
        },
        0
      );

      animation.renderer.elements[0].elements[7].elements[0].elements[1].elements[3 - i].canResizeFont(true);
      animation.renderer.elements[0].elements[7].elements[0].elements[1].elements[3 - i].updateDocumentData({
          t: line7
        },
        0
      );

      animation.renderer.elements[0].elements[6].elements[0].elements[1].elements[3 - i].canResizeFont(true);
      animation.renderer.elements[0].elements[6].elements[0].elements[1].elements[3 - i].updateDocumentData({
          t: line8
        },
        0
      );

      animation.renderer.elements[0].elements[5].elements[0].elements[1].elements[3 - i].canResizeFont(true);
      animation.renderer.elements[0].elements[5].elements[0].elements[1].elements[3 - i].updateDocumentData({
          t: line9
        },
        0
      );

      animation.renderer.elements[0].elements[4].elements[0].elements[1].elements[3 - i].canResizeFont(true);
      animation.renderer.elements[0].elements[4].elements[0].elements[1].elements[3 - i].updateDocumentData({
          t: line10
        },
        0
      );
    }
  }
</script>